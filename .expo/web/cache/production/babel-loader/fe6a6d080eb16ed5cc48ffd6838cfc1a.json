{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{DEFAULT_APP_OPTIONS}from'expo-firebase-core';import{CodedError}from'expo-modules-core';function getFirebaseModule(){try{var firebaseModule=require('firebase/compat/app');var firebase=firebaseModule.initializeApp?firebaseModule:firebaseModule.default;if(DEFAULT_APP_OPTIONS&&!firebase.apps.length){firebase.initializeApp(DEFAULT_APP_OPTIONS);}return firebase;}catch(_ref){var message=_ref.message;throw new Error('Firebase JS SDK is not installed: '+message);}}function getAnalyticsModule(){try{var firebase=getFirebaseModule();require('firebase/compat/analytics');return firebase.analytics();}catch(_ref2){var message=_ref2.message;throw new Error('Firebase JS Analytics SDK is not available: '+message);}}export default{get name(){return'ExpoFirebaseAnalytics';},logEvent:function logEvent(name,properties){return function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getAnalyticsModule().logEvent(name,properties);case 1:case\"end\":return _context.stop();}}},null,null,null,Promise);}();},setAnalyticsCollectionEnabled:function setAnalyticsCollectionEnabled(isEnabled){return function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:getAnalyticsModule().setAnalyticsCollectionEnabled(isEnabled);case 1:case\"end\":return _context2.stop();}}},null,null,null,Promise);}();},setSessionTimeoutDuration:function setSessionTimeoutDuration(_sessionTimeoutInterval){return function _callee3(){return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}}},null,null,null,Promise);}();},setUserId:function setUserId(userId){return function _callee4(){return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:getAnalyticsModule().setUserId(userId);case 1:case\"end\":return _context4.stop();}}},null,null,null,Promise);}();},setUserProperties:function setUserProperties(properties){return function _callee5(){return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:getAnalyticsModule().setUserProperties(properties);case 1:case\"end\":return _context5.stop();}}},null,null,null,Promise);}();},setUnavailabilityLogging:function setUnavailabilityLogging(isEnabled){},setDebugModeEnabled:function setDebugModeEnabled(isEnabled){return function _callee6(){return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:throw new CodedError('ERR_FIREBASE_NOTCONFIGURED',\"setDebugModeEnabled is not available on the web. See \\\"https://firebase.google.com/docs/analytics/debugview\\\" on how to enable debug mode.\");case 1:case\"end\":return _context6.stop();}}},null,null,null,Promise);}();}};","map":{"version":3,"sources":["../src/ExpoFirebaseAnalytics.web.ts"],"names":[],"mappings":"4DAAA,OAAS,mBAAT,KAAoC,oBAApC,CACA,OAAS,UAAT,KAA2B,mBAA3B,CAEA,QAAS,CAAA,iBAAT,EAA0B,CACxB,GAAI,CACF,GAAM,CAAA,cAAc,CAAG,OAAO,CAAC,qBAAD,CAA9B,CACA,GAAM,CAAA,QAAQ,CAAG,cAAc,CAAC,aAAf,CAA+B,cAA/B,CAAgD,cAAc,CAAC,OAAhF,CACA,GAAI,mBAAmB,EAAI,CAAC,QAAQ,CAAC,IAAT,CAAc,MAA1C,CAAkD,CAChD,QAAQ,CAAC,aAAT,CAAuB,mBAAvB,EACD,CACD,MAAO,CAAA,QAAP,CACD,CAAC,WAAoB,IAAX,CAAA,OAAW,MAAX,OAAW,CACpB,KAAM,IAAI,CAAA,KAAJ,CAAU,qCAAuC,OAAjD,CAAN,CACD,CACF,CACD,QAAS,CAAA,kBAAT,EAA2B,CACzB,GAAI,CACF,GAAM,CAAA,QAAQ,CAAG,iBAAiB,EAAlC,CACA,OAAO,CAAC,2BAAD,CAAP,CACA,MAAO,CAAA,QAAQ,CAAC,SAAT,EAAP,CACD,CAAC,YAAoB,IAAX,CAAA,OAAW,OAAX,OAAW,CACpB,KAAM,IAAI,CAAA,KAAJ,CAAU,+CAAiD,OAA3D,CAAN,CACD,CACF,CAED,cAAe,CACb,GAAI,CAAA,IAAJ,EAAQ,CACN,MAAO,uBAAP,CACD,CAHY,CAOP,QAPO,mBAOE,IAPF,CAOgB,UAPhB,CAOmD,4IAC9D,kBAAkB,GAAG,QAArB,CAA8B,IAA9B,CAAoC,UAApC,EAD8D,wEAE/D,CATY,CAaP,6BAbO,wCAauB,SAbvB,CAayC,iJACpD,kBAAkB,GAAG,6BAArB,CAAmD,SAAnD,EADoD,yEAErD,CAfY,CAmBP,yBAnBO,oCAmBmB,uBAnBnB,CAmBkD,mNAE9D,CArBY,CAyBP,SAzBO,oBAyBG,MAzBH,CAyBwB,iJACnC,kBAAkB,GAAG,SAArB,CAA+B,MAA/B,EADmC,yEAEpC,CA3BY,CA+BP,iBA/BO,4BA+BW,UA/BX,CA+B6C,iJACxD,kBAAkB,GAAG,iBAArB,CAAuC,UAAvC,EADwD,yEAEzD,CAjCY,CAqCb,wBArCa,mCAqCY,SArCZ,CAqC8B,CAE1C,CAvCY,CA2CP,mBA3CO,8BA2Ca,SA3Cb,CA2C+B,sJACpC,IAAI,CAAA,UAAJ,CACJ,4BADI,8IADoC,0EAK3C,CAhDY,CAAf","sourcesContent":["import { DEFAULT_APP_OPTIONS } from 'expo-firebase-core';\nimport { CodedError } from 'expo-modules-core';\n\nfunction getFirebaseModule() {\n  try {\n    const firebaseModule = require('firebase/compat/app');\n    const firebase = firebaseModule.initializeApp ? firebaseModule : firebaseModule.default;\n    if (DEFAULT_APP_OPTIONS && !firebase.apps.length) {\n      firebase.initializeApp(DEFAULT_APP_OPTIONS);\n    }\n    return firebase;\n  } catch ({ message }) {\n    throw new Error('Firebase JS SDK is not installed: ' + message);\n  }\n}\nfunction getAnalyticsModule() {\n  try {\n    const firebase = getFirebaseModule();\n    require('firebase/compat/analytics');\n    return firebase.analytics();\n  } catch ({ message }) {\n    throw new Error('Firebase JS Analytics SDK is not available: ' + message);\n  }\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoFirebaseAnalytics';\n  },\n  /**\n   * https://firebase.google.com/docs/reference/js/firebase.analytics.Analytics#log-event\n   */\n  async logEvent(name: string, properties?: { [key: string]: any }): Promise<void> {\n    getAnalyticsModule().logEvent(name, properties);\n  },\n  /**\n   * https://firebase.google.com/docs/reference/js/firebase.analytics.Analytics#set-analytics-collection-enabled\n   */\n  async setAnalyticsCollectionEnabled(isEnabled: boolean): Promise<void> {\n    getAnalyticsModule().setAnalyticsCollectionEnabled(isEnabled);\n  },\n  /**\n   * Not supported on web, this method is a no-op\n   */\n  async setSessionTimeoutDuration(_sessionTimeoutInterval: number): Promise<void> {\n    // no-op\n  },\n  /**\n   * https://firebase.google.com/docs/reference/js/firebase.analytics.Analytics#set-user-id\n   */\n  async setUserId(userId: string | null): Promise<void> {\n    getAnalyticsModule().setUserId(userId);\n  },\n  /**\n   * https://firebase.google.com/docs/reference/js/firebase.analytics.Analytics#set-user-properties\n   */\n  async setUserProperties(properties: { [key: string]: any }): Promise<void> {\n    getAnalyticsModule().setUserProperties(properties);\n  },\n  /**\n   * No implementation on web\n   */\n  setUnavailabilityLogging(isEnabled: boolean): void {\n    // nop\n  },\n  /**\n   * Not supported on web\n   */\n  async setDebugModeEnabled(isEnabled: boolean): Promise<void> {\n    throw new CodedError(\n      'ERR_FIREBASE_NOTCONFIGURED',\n      `setDebugModeEnabled is not available on the web. See \"https://firebase.google.com/docs/analytics/debugview\" on how to enable debug mode.`\n    );\n  },\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}