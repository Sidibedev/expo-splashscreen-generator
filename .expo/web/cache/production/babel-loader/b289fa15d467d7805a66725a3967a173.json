{"ast":null,"code":"import{defineAnimation}from\"./util\";import Platform from\"react-native-web/dist/exports/Platform\";export var withDecay=function(){var _f=function _f(userConfig,callback){return defineAnimation(0,function(){var _f=function _f(){var _a;var config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}var VELOCITY_EPS=Platform.OS!=='web'?1:1/20;var SLOPE_FACTOR=0.1;function decay(animation,now){var lastTimestamp=animation.lastTimestamp,startTimestamp=animation.startTimestamp,initialVelocity=animation.initialVelocity,current=animation.current,velocity=animation.velocity;var deltaTime=Math.min(now-lastTimestamp,64);var v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};};_f._closure={Platform:{OS:Platform.OS},userConfig:userConfig,callback:callback};_f.asString=\"function _f(){const{Platform,userConfig,callback}=jsThis._closure;{var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}\";_f.__workletHash=7058793376627;_f.__location=\"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (5:30)\";global.__reanimatedWorkletInit(_f);return _f;}());};_f._closure={defineAnimation:defineAnimation,Platform:{OS:Platform.OS}};_f.asString=\"function withDecay(userConfig,callback){const{defineAnimation,Platform}=jsThis._closure;{return defineAnimation(0,function(){'worklet';var _a;const config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=Platform.OS!=='web'?1:1/20;const SLOPE_FACTOR=0.1;function decay(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\\\"config.clamp must be an array but is \\\"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\\\"clamp array must contain 2 items but is given \\\"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\\\"config.velocityFactor must be greather then 0 but is \\\"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}\";_f.__workletHash=4039134172572;_f.__location=\"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js (3:7)\";global.__reanimatedWorkletInit(_f);return _f;}();","map":{"version":3,"sources":["/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js"],"names":["defineAnimation","withDecay","userConfig","callback","_a","config","deceleration","velocityFactor","Platform","OS","velocity","Object","keys","forEach","key","VELOCITY_EPS","SLOPE_FACTOR","decay","animation","now","lastTimestamp","startTimestamp","initialVelocity","current","deltaTime","Math","min","v","exp","clamp","abs","validateConfig","Array","isArray","Error","length","onStart","value","onFrame"],"mappings":"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","sourcesContent":["import { defineAnimation } from './util';\nimport { Platform } from 'react-native';\nexport function withDecay(userConfig, callback) {\n    'worklet';\n    return defineAnimation(0, () => {\n        'worklet';\n        var _a;\n        const config = {\n            deceleration: 0.998,\n            velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n            velocity: 0,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n        const SLOPE_FACTOR = 0.1;\n        function decay(animation, now) {\n            const { lastTimestamp, startTimestamp, initialVelocity, current, velocity, } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            const v = velocity *\n                Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n            animation.current =\n                current + (v * config.velocityFactor * deltaTime) / 1000; // /1000 because time is in ms not in s\n            animation.velocity = v;\n            animation.lastTimestamp = now;\n            if (config.clamp) {\n                if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n                    animation.current = config.clamp[0];\n                    return true;\n                }\n                else if (initialVelocity > 0 &&\n                    animation.current >= config.clamp[1]) {\n                    animation.current = config.clamp[1];\n                    return true;\n                }\n            }\n            return Math.abs(v) < VELOCITY_EPS;\n        }\n        function validateConfig() {\n            if (config.clamp) {\n                if (!Array.isArray(config.clamp)) {\n                    throw Error(`config.clamp must be an array but is ${typeof config.clamp}`);\n                }\n                if (config.clamp.length !== 2) {\n                    throw Error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\n                }\n            }\n            if (config.velocityFactor <= 0) {\n                throw Error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\n            }\n        }\n        function onStart(animation, value, now) {\n            animation.current = value;\n            animation.lastTimestamp = now;\n            animation.startTimestamp = now;\n            animation.initialVelocity = config.velocity;\n            validateConfig();\n        }\n        return {\n            onFrame: decay,\n            onStart,\n            callback,\n            velocity: (_a = config.velocity) !== null && _a !== void 0 ? _a : 0,\n            initialVelocity: 0,\n            current: 0,\n            lastTimestamp: 0,\n            startTimestamp: 0,\n        };\n    });\n}\n"]},"metadata":{},"sourceType":"module"}