{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"isMobile\",\"onValueChanged\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from\"react\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import tinycolor from\"tinycolor2\";import{COLORPICKER_COLORS}from\"../constants/colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var toState=function toState(data,oldHue){var color=data.hex?tinycolor(data.hex):tinycolor(data);var hsl=color.toHsl();var hsv=color.toHsv();var rgb=color.toRgb();var hex=color.toHex();if(hsl.s===0){hsl.h=oldHue||0;hsv.h=oldHue||0;}var transparent=hex===\"000000\"&&rgb.a===0;return{hsl:hsl,hex:transparent?\"transparent\":\"#\"+hex,rgb:rgb,hsv:hsv,oldHue:data.h||oldHue||hsl.h,source:data.source};};export var getContrastingColor=function getContrastingColor(data){if(!data){return\"#fff\";}var col=toState(data);if(col.hex===\"transparent\"){return\"rgba(0,0,0,0.4)\";}var yiq=(col.rgb.r*299+col.rgb.g*587+col.rgb.b*114)/1000;return yiq>=128?\"#000\":\"#fff\";};export var isValidHex=function isValidHex(hex){if(hex===\"transparent\"){return true;}var lh=String(hex).charAt(0)===\"#\"?1:0;return hex.length!==4+lh&&hex.length<7+lh&&tinycolor(hex).isValid();};function ColorView(_ref){var size=_ref.size,color=_ref.color,style=_ref.style;return _jsx(View,{style:[{width:size,height:size,borderRadius:size/2,borderColor:\"white\",borderWidth:2,backgroundColor:color},style]});}export function ColorPicker(_ref2){var isMobile=_ref2.isMobile,onValueChanged=_ref2.onValueChanged,props=_objectWithoutProperties(_ref2,_excluded);var _React$useState=React.useState(\"FFFFFF\"),_React$useState2=_slicedToArray(_React$useState,2),text=_React$useState2[0],onTextChanged=_React$useState2[1];var COLOR_SIZE=24;var PADDING=12;var SCROLL_HEIGHT=COLOR_SIZE+PADDING*2;var COLORS=React.useMemo(function(){return COLORPICKER_COLORS.reverse();},[]);return _jsxs(ScrollView,_objectSpread(_objectSpread({},props),{},{style:[isMobile?{minHeight:SCROLL_HEIGHT,maxHeight:SCROLL_HEIGHT}:{flexShrink:1,flexGrow:0,maxWidth:300},props.style],contentContainerStyle:[{paddingVertical:PADDING},!isMobile&&{width:\"100%\",flexDirection:\"row\",flexWrap:\"wrap\"},props.contentContainerStyle],horizontal:isMobile,pagingEnabled:true,children:[COLORS.map(function(color){return _jsx(TouchableOpacity,{onPress:function onPress(){return onValueChanged(color);},children:_jsx(ColorView,{size:COLOR_SIZE,color:color,style:{margin:isMobile?12:6}})},color);}),_jsx(ColorPickerInput,{size:COLOR_SIZE,value:text,onValueChanged:onTextChanged,onSubmit:function onSubmit(value){onValueChanged(value);}})]}));}function ColorPickerInput(_ref3){var size=_ref3.size,value=_ref3.value,onValueChanged=_ref3.onValueChanged,onSubmit=_ref3.onSubmit;return _jsxs(View,{style:[{height:size,flex:1,minWidth:275,margin:6,borderRadius:size/2,borderWidth:2,flexDirection:\"row\",overflow:\"hidden\"},{borderColor:\"gray\",backgroundColor:\"gray\"}],children:[_jsx(View,{style:{width:size,height:size-4,justifyContent:\"center\",alignItems:\"center\"},children:_jsx(Text,{style:{alignSelf:\"center\",color:\"#98A1A4\"},children:\"#\"})}),_jsx(TextInput,{autoCapitalize:\"none\",autoCorrect:false,value:value.replace(\"#\",\"\"),onChangeText:function onChangeText(value){onValueChanged(value);if(isValidHex(value)){onSubmit(\"#\"+tinycolor(value).toHex());}},style:{flex:1,paddingHorizontal:4,color:\"#fff\",outlineColor:\"transparent\"}})]});}","map":{"version":3,"sources":["/Users/mas/Documents/perso/expo-splashscreen-generator/components/ColorPicker.js"],"names":["React","tinycolor","COLORPICKER_COLORS","toState","data","oldHue","color","hex","hsl","toHsl","hsv","toHsv","rgb","toRgb","toHex","s","h","transparent","a","source","getContrastingColor","col","yiq","r","g","b","isValidHex","lh","String","charAt","length","isValid","ColorView","size","style","width","height","borderRadius","borderColor","borderWidth","backgroundColor","ColorPicker","isMobile","onValueChanged","props","useState","text","onTextChanged","COLOR_SIZE","PADDING","SCROLL_HEIGHT","COLORS","useMemo","reverse","minHeight","maxHeight","flexShrink","flexGrow","maxWidth","paddingVertical","flexDirection","flexWrap","contentContainerStyle","map","margin","value","ColorPickerInput","onSubmit","flex","minWidth","overflow","justifyContent","alignItems","alignSelf","replace","paddingHorizontal","outlineColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n    ScrollView,\n    Text,\n    TextInput,\n    TouchableOpacity,\n    View,\n} from \"react-native\";\nimport tinycolor from \"tinycolor2\";\nimport { COLORPICKER_COLORS } from \"../constants/colors\";\n\nexport const toState = (data, oldHue) => {\n    const color = data.hex ? tinycolor(data.hex) : tinycolor(data);\n    const hsl = color.toHsl();\n    const hsv = color.toHsv();\n    const rgb = color.toRgb();\n    const hex = color.toHex();\n    if (hsl.s === 0) {\n        hsl.h = oldHue || 0;\n        hsv.h = oldHue || 0;\n    }\n    const transparent = hex === \"000000\" && rgb.a === 0;\n\n    return {\n        hsl,\n        hex: transparent ? \"transparent\" : `#${hex}`,\n        rgb,\n        hsv,\n        oldHue: data.h || oldHue || hsl.h,\n        source: data.source,\n    };\n};\n\nexport const getContrastingColor = (data) => {\n    if (!data) {\n        return \"#fff\";\n    }\n    const col = toState(data);\n    if (col.hex === \"transparent\") {\n        return \"rgba(0,0,0,0.4)\";\n    }\n    const yiq = (col.rgb.r * 299 + col.rgb.g * 587 + col.rgb.b * 114) / 1000;\n    return yiq >= 128 ? \"#000\" : \"#fff\";\n};\n\nexport const isValidHex = (hex) => {\n    if (hex === \"transparent\") {\n        return true;\n    }\n    // disable hex4 and hex8\n    const lh = String(hex).charAt(0) === \"#\" ? 1 : 0;\n    return (\n        hex.length !== 4 + lh && hex.length < 7 + lh && tinycolor(hex).isValid()\n    );\n};\n\nfunction ColorView({ size, color, style }) {\n    return (\n        <View\n            style={[\n                {\n                    width: size,\n                    height: size,\n                    borderRadius: size / 2,\n                    borderColor: \"white\",\n                    borderWidth: 2,\n                    backgroundColor: color,\n                },\n                style,\n            ]}\n        />\n    );\n}\n\nexport function ColorPicker({\n    isMobile,\n    onValueChanged,\n    ...props\n}) {\n\n    const [text, onTextChanged] = React.useState(\"FFFFFF\");\n    const COLOR_SIZE = 24;\n    const PADDING = 12;\n    const SCROLL_HEIGHT = COLOR_SIZE + PADDING * 2;\n    const COLORS = React.useMemo(() => COLORPICKER_COLORS.reverse(), []);\n    return (\n        <ScrollView\n            {...props}\n            style={[\n                isMobile\n                    ? { minHeight: SCROLL_HEIGHT, maxHeight: SCROLL_HEIGHT }\n                    : { flexShrink: 1, flexGrow: 0, maxWidth: 300 },\n                props.style,\n            ]}\n            contentContainerStyle={[\n                { paddingVertical: PADDING },\n                !isMobile && {\n                    width: \"100%\",\n                    flexDirection: \"row\",\n                    flexWrap: \"wrap\",\n                },\n                props.contentContainerStyle,\n            ]}\n            horizontal={isMobile}\n            pagingEnabled\n        >\n            {COLORS.map((color) => (\n                <TouchableOpacity key={color} onPress={() => onValueChanged(color)}>\n                    <ColorView\n                        size={COLOR_SIZE}\n                        color={color}\n                        style={{ margin: isMobile ? 12 : 6 }}\n                    />\n                </TouchableOpacity>\n            ))}\n            <ColorPickerInput\n                size={COLOR_SIZE}\n\n                value={text}\n                onValueChanged={onTextChanged}\n                onSubmit={(value) => {\n                    onValueChanged(value);\n                }}\n            />\n        </ScrollView>\n    );\n}\n\nfunction ColorPickerInput({ size, value, onValueChanged, onSubmit }) {\n    return (\n        <View\n            style={[\n                {\n                    height: size,\n                    flex: 1,\n                    minWidth: 275,\n                    margin: 6,\n                    borderRadius: size / 2,\n                    borderWidth: 2,\n                    flexDirection: \"row\",\n                    overflow: \"hidden\",\n                },\n                {\n                    borderColor: \"gray\",\n                    backgroundColor: \"gray\",\n                },\n            ]}\n        >\n            <View\n                style={{\n                    width: size,\n                    height: size - 4,\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}\n            >\n                <Text\n                    style={{ alignSelf: \"center\", color: \"#98A1A4\" }}\n                >\n                    #\n                </Text>\n            </View>\n            <TextInput\n                autoCapitalize={\"none\"}\n                autoCorrect={false}\n                value={value.replace(\"#\", \"\")}\n                onChangeText={(value) => {\n                    onValueChanged(value);\n\n                    if (isValidHex(value)) {\n                        onSubmit(\"#\" + tinycolor(value).toHex());\n                    }\n                }}\n                style={{\n                    flex: 1,\n                    paddingHorizontal: 4,\n                    color: \"#fff\",\n                    outlineColor: \"transparent\",\n                }}\n            />\n        </View>\n    );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}