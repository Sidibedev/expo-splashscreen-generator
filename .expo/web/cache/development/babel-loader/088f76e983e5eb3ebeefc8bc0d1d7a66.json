{"ast":null,"code":"import { defineAnimation } from \"./util\";\nexport var withRepeat = function () {\n  var _f = function _f(_nextAnimation) {\n    var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var callback = arguments.length > 3 ? arguments[3] : undefined;\n    return defineAnimation(_nextAnimation, function () {\n      var _f = function _f() {\n        var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n\n        function repeat(animation, now) {\n          var finished = nextAnimation.onFrame(nextAnimation, now);\n          animation.current = nextAnimation.current;\n\n          if (finished) {\n            animation.reps += 1;\n\n            if (nextAnimation.callback) {\n              nextAnimation.callback(true, animation.current);\n            }\n\n            if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n              return true;\n            }\n\n            var startValue = reverse ? nextAnimation.current : animation.startValue;\n\n            if (reverse) {\n              nextAnimation.toValue = animation.startValue;\n              animation.startValue = startValue;\n            }\n\n            nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n            return false;\n          }\n\n          return false;\n        }\n\n        var repCallback = function repCallback(finished) {\n          if (callback) {\n            callback(finished);\n          }\n\n          if (!finished && nextAnimation.callback) {\n            nextAnimation.callback(false);\n          }\n        };\n\n        function onStart(animation, value, now, previousAnimation) {\n          animation.startValue = value;\n          animation.reps = 0;\n          nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n\n        return {\n          isHigherOrder: true,\n          onFrame: repeat,\n          onStart: onStart,\n          reps: 0,\n          current: nextAnimation.current,\n          callback: repCallback,\n          startValue: 0\n        };\n      };\n\n      _f._closure = {\n        _nextAnimation: _nextAnimation,\n        numberOfReps: numberOfReps,\n        reverse: reverse,\n        callback: callback\n      };\n      _f.asString = \"function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}\";\n      _f.__workletHash = 7048649597913;\n      _f.__location = \"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js (4:43)\";\n\n      global.__reanimatedWorkletInit(_f);\n\n      return _f;\n    }());\n  };\n\n  _f._closure = {\n    defineAnimation: defineAnimation\n  };\n  _f.asString = \"function withRepeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function repeat(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:repeat,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}\";\n  _f.__workletHash = 6454273429002;\n  _f.__location = \"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js (2:7)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var repeat = function () {\n  var _f = function _f(_nextAnimation) {\n    var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var callback = arguments.length > 3 ? arguments[3] : undefined;\n    console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n    return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n  };\n\n  _f._closure = {\n    withRepeat: withRepeat\n  };\n  _f.asString = \"function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{withRepeat}=jsThis._closure;{console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');return withRepeat(_nextAnimation,numberOfReps,reverse,callback);}}\";\n  _f.__workletHash = 8754105257322;\n  _f.__location = \"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js (60:7)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var loop = function () {\n  var _f = function _f(nextAnimation) {\n    var numberOfLoops = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n    return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n  };\n\n  _f._closure = {\n    repeat: repeat\n  };\n  _f.asString = \"function loop(nextAnimation,numberOfLoops=1){const{repeat}=jsThis._closure;{console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');return repeat(nextAnimation,Math.round(numberOfLoops*2),true);}}\";\n  _f.__workletHash = 6061896044758;\n  _f.__location = \"/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js (65:7)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();","map":{"version":3,"sources":["/Users/mas/Documents/perso/expo-splashscreen-generator/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js"],"names":["defineAnimation","withRepeat","_nextAnimation","numberOfReps","reverse","callback","nextAnimation","repeat","animation","now","finished","onFrame","current","reps","startValue","toValue","onStart","previousAnimation","repCallback","value","isHigherOrder","console","warn","loop","numberOfLoops","Math","round"],"mappings":"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","sourcesContent":["import { defineAnimation } from './util';\nexport function withRepeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function repeat(animation, now) {\n            const finished = nextAnimation.onFrame(nextAnimation, now);\n            animation.current = nextAnimation.current;\n            if (finished) {\n                animation.reps += 1;\n                // call inner animation's callback on every repetition\n                // as the second argument the animation's current value is passed\n                if (nextAnimation.callback) {\n                    nextAnimation.callback(true /* finished */, animation.current);\n                }\n                if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n                    return true;\n                }\n                const startValue = reverse\n                    ? nextAnimation.current\n                    : animation.startValue;\n                if (reverse) {\n                    nextAnimation.toValue = animation.startValue;\n                    animation.startValue = startValue;\n                }\n                nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n                return false;\n            }\n            return false;\n        }\n        const repCallback = (finished) => {\n            if (callback) {\n                callback(finished);\n            }\n            // when cancelled call inner animation's callback\n            if (!finished && nextAnimation.callback) {\n                nextAnimation.callback(false /* finished */);\n            }\n        };\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startValue = value;\n            animation.reps = 0;\n            nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: repeat,\n            onStart,\n            reps: 0,\n            current: nextAnimation.current,\n            callback: repCallback,\n            startValue: 0,\n        };\n    });\n}\n/**\n * @deprecated Kept for backward compatibility. Will be removed soon.\n */\nexport function repeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n    return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation, numberOfLoops = 1) {\n    'worklet';\n    console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n    return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\n"]},"metadata":{},"sourceType":"module"}